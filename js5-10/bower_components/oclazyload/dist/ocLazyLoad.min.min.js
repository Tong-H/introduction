(function(u,v){var p=["ng","oc.lazyLoad"],z={},y=[],t=[],C=[],A=[],w=u.noop,B={},D=[];var x=u.module("oc.lazyLoad",["ng"]);x.provider("$ocLazyLoad",["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function(b,l,m,j,n,a){var g={},L={$controllerProvider:b,$compileProvider:m,$filterProvider:j,$provide:l,$injector:n,$animateProvider:a},M=false,J=false,N=[],c={};N.push=function(E){if(this.indexOf(E)===-1){Array.prototype.push.apply(this,arguments)}};this.config=function(E){if(u.isDefined(E.modules)){if(u.isArray(E.modules)){u.forEach(E.modules,function(F){g[F.name]=F})}else{g[E.modules.name]=E.modules}}if(u.isDefined(E.debug)){M=E.debug}if(u.isDefined(E.events)){J=E.events}};this._init=function f(E){if(t.length===0){var P=[E],H=["ng:app","ng-app","x-ng-app","data-ng-app"],F=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,G=function G(O){return O&&P.push(O)};u.forEach(H,function(O){H[O]=true;G(document.getElementById(O));O=O.replace(":","\\:");if(typeof E[0]!=="undefined"&&E[0].querySelectorAll){u.forEach(E[0].querySelectorAll("."+O),G);u.forEach(E[0].querySelectorAll("."+O+"\\:"),G);u.forEach(E[0].querySelectorAll("["+O+"]"),G)}});u.forEach(P,function(O){if(t.length===0){var S=" "+E.className+" ";var T=F.exec(S);if(T){t.push((T[2]||"").replace(/\s+/g,","))}else{u.forEach(O.attributes,function(Q){if(t.length===0&&H[Q.name]){t.push(Q.value)}})}}})}if(t.length===0&&!((v.jasmine||v.mocha)&&u.isDefined(u.mock))){console.error("No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad.")}var I=function I(O){if(p.indexOf(O)===-1){p.push(O);var R=u.module(O);k(null,R._invokeQueue,O);k(null,R._configBlocks,O);u.forEach(R.requires,I)}};u.forEach(t,function(O){I(O)});t=[];A.pop()};var K=function K(E){try{return JSON.stringify(E)}catch(F){var G=[];return JSON.stringify(E,function(I,H){if(u.isObject(H)&&H!==null){if(G.indexOf(H)!==-1){return}G.push(H)}return H})}};var o=function o(H){var I=0,F,E,G;if(H.length==0){return I}for(F=0,G=H.length;F<G;F++){E=H.charCodeAt(F);I=(I<<5)-I+E;I|=0}return I};function h(H,E,T){if(E){var S,V,F,G=[];for(S=E.length-1;S>=0;S--){V=E[S];if(!u.isString(V)){V=e(V)}if(!V||D.indexOf(V)!==-1||g[V]&&C.indexOf(V)===-1){continue}var U=p.indexOf(V)===-1;F=q(V);if(U){p.push(V);h(H,F.requires,T)}if(F._runBlocks.length>0){B[V]=[];while(F._runBlocks.length>0){B[V].push(F._runBlocks.shift())}}if(u.isDefined(B[V])&&(U||T.rerun)){G=G.concat(B[V])}k(H,F._invokeQueue,V,T.reconfig);k(H,F._configBlocks,V,T.reconfig);w(U?"ocLazyLoad.moduleLoaded":"ocLazyLoad.moduleReloaded",V);E.pop();D.push(V)}var I=H.getInstanceInjector();u.forEach(G,function(O){I.invoke(O)})}}function d(T,E){var F=T[2][0],R=T[1],S=false;if(u.isUndefined(z[E])){z[E]={}}if(u.isUndefined(z[E][R])){z[E][R]={}}var I=function I(O,P){if(!z[E][R].hasOwnProperty(O)){z[E][R][O]=[]}if(H(P,z[E][R][O])){S=true;z[E][R][O].push(P);w("ocLazyLoad.componentLoaded",[E,R,O])}};function H(Q,P){var V=true,O;if(P.length){O=G(Q);u.forEach(P,function(U){V=V&&G(U)!==O})}return V}function G(O){if(u.isArray(O)){return o(O.toString())}else{if(u.isObject(O)){return o(K(O))}else{if(u.isDefined(O)&&O!==null){return o(O.toString())}else{return O}}}}if(u.isString(F)){I(F,T[2][1])}else{if(u.isObject(F)){u.forEach(F,function(P,O){if(u.isString(P)){I(P,F[1])}else{I(O,P)}})}else{return false}}return S}function k(Y,I,ab,W){if(!I){return}var X,H,G,F;for(X=0,H=I.length;X<H;X++){G=I[X];if(u.isArray(G)){if(Y!==null){if(Y.hasOwnProperty(G[0])){F=Y[G[0]]}else{throw new Error("unsupported provider "+G[0])}}var V=d(G,ab);if(G[1]!=="invoke"){if(V&&u.isDefined(F)){F[G[1]].apply(F,G[2])}}else{var aa=function aa(P){var O=y.indexOf(ab+"-"+P);if(O===-1||W){if(O===-1){y.push(ab+"-"+P)}if(u.isDefined(F)){F[G[1]].apply(F,G[2])}}};if(u.isFunction(G[2][0])){aa(G[2][0])}else{if(u.isArray(G[2][0])){for(var Z=0,E=G[2][0].length;Z<E;Z++){if(u.isFunction(G[2][0][Z])){aa(G[2][0][Z])}}}}}}}}function e(E){var F=null;if(u.isString(E)){F=E}else{if(u.isObject(E)&&E.hasOwnProperty("name")&&u.isString(E.name)){F=E.name}}return F}function i(F){if(!u.isString(F)){return false}try{return q(F)}catch(E){if(/No module/.test(E)||E.message.indexOf("$injector:nomod")>-1){return false}}}this.$get=["$log","$rootElement","$rootScope","$cacheFactory","$q",function(F,ah,af,aq,ar){var G,ao=aq("ocLazyLoad");if(!M){F={};F.error=u.noop;F.warn=u.noop;F.info=u.noop}L.getInstanceInjector=function(){return G?G:G=ah.data("$injector")||u.injector()};ad=function ad(P,O){if(J){af.$broadcast(P,O)}if(M){F.info(P,O)}};function aj(O){var P=ar.defer();F.error(O.message);P.reject(O);return P.promise}return{_broadcast:ad,_$log:F,_getFilesCache:function ag(){return ao},toggleWatch:function E(O){if(O){A.push(true)}else{A.pop()}},getModuleConfig:function ae(O){if(!u.isString(O)){throw new Error("You need to give the name of the module to get")}if(!g[O]){return null}return u.copy(g[O])},setModuleConfig:function al(O){if(!u.isObject(O)){throw new Error("You need to give the module config object to set")}g[O.name]=O;return O},getModules:function I(){return p},isLoaded:function ai(O){var P=function P(S){var T=p.indexOf(S)>-1;if(!T){T=!!i(S)}return T};if(u.isString(O)){O=[O]}if(u.isArray(O)){var Q,R;for(Q=0,R=O.length;Q<R;Q++){if(!P(O[Q])){return false}}return true}else{throw new Error("You need to define the module(s) name(s)")}},_getModuleName:e,_getModule:function ap(P){try{return q(P)}catch(O){if(/No module/.test(O)||O.message.indexOf("$injector:nomod")>-1){O.message='The module "'+K(P)+'" that you are trying to load does not exist. '+O.message}throw O}},moduleExists:i,_loadDependencies:function am(S,V){var R,Q,O,U=[],T=this;S=T._getModuleName(S);if(S===null){return ar.when()}else{try{R=T._getModule(S)}catch(P){return aj(P)}Q=T.getRequires(R)}u.forEach(Q,function(Y){if(u.isString(Y)){var X=T.getModuleConfig(Y);if(X===null){N.push(Y);return}Y=X;X.name=undefined}if(T.moduleExists(Y.name)){O=Y.files.filter(function(Z){return T.getModuleConfig(Y.name).files.indexOf(Z)<0});if(O.length!==0){T._$log.warn('Module "',S,'" attempted to redefine configuration for dependency. "',Y.name,'"\n Additional Files Loaded:',O)}if(u.isDefined(T.filesLoader)){U.push(T.filesLoader(Y,V).then(function(){return T._loadDependencies(Y)}))}else{return aj(new Error("Error: New dependencies need to be loaded from external files ("+Y.files+"), but no loader has been defined."))}return}else{if(u.isArray(Y)){var W=[];u.forEach(Y,function(Z){var aa=T.getModuleConfig(Z);if(aa===null){W.push(Z)}else{if(aa.files){W=W.concat(aa.files)}}});if(W.length>0){Y={files:W}}}else{if(u.isObject(Y)){if(Y.hasOwnProperty("name")&&Y.name){T.setModuleConfig(Y);N.push(Y.name)}}}}if(u.isDefined(Y.files)&&Y.files.length!==0){if(u.isDefined(T.filesLoader)){U.push(T.filesLoader(Y,V).then(function(){return T._loadDependencies(Y)}))}else{return aj(new Error('Error: the module "'+Y.name+'" is defined in external files ('+Y.files+"), but no loader has been defined."))}}});return ar.all(U)},inject:function H(R){var O=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var U=arguments.length<=2||arguments[2]===undefined?false:arguments[2];var S=this,T=ar.defer();if(u.isDefined(R)&&R!==null){if(u.isArray(R)){var V=[];u.forEach(R,function(W){V.push(S.inject(W,O,U))});return ar.all(V)}else{S._addToLoadList(S._getModuleName(R),true,U)}}if(t.length>0){var Q=t.slice();var P=function P(X){N.push(X);c[X]=T.promise;S._loadDependencies(X,O).then(function W(){try{D=[];h(L,N,O)}catch(Z){S._$log.error(Z.message);T.reject(Z);return}if(t.length>0){P(t.shift())}else{T.resolve(Q)}},function Y(Z){T.reject(Z)})};P(t.shift())}else{if(O&&O.name&&c[O.name]){return c[O.name]}else{T.resolve()}}return T.promise},getRequires:function an(P){var O=[];u.forEach(P.requires,function(Q){if(p.indexOf(Q)===-1){O.push(Q)}});return O},_invokeQueue:k,_registerInvokeList:d,_register:h,_addToLoadList:s,_unregister:function ak(O){if(u.isDefined(O)){if(u.isArray(O)){u.forEach(O,function(P){z[P]=undefined})}}}}}];this._init(u.element(v.document))}]);var r=u.bootstrap;u.bootstrap=function(a,b,c){p=["ng","oc.lazyLoad"];z={};y=[];t=[];C=[];A=[];w=u.noop;B={};D=[];u.forEach(b.slice(),function(d){s(d,true,true)});return r(a,b,c)};var s=function s(c,b,a){if((A.length>0||b)&&u.isString(c)&&t.indexOf(c)===-1){t.push(c);if(a){C.push(c)}}};var q=u.module;u.module=function(c,a,b){s(c,false,true);return q(c,a,b)};if(typeof module!=="undefined"&&typeof exports!=="undefined"&&module.exports===exports){module.exports="oc.lazyLoad"}})(angular,window);(function(b){b.module("oc.lazyLoad").directive("ocLazyLoad",["$ocLazyLoad","$compile","$animate","$parse","$timeout",function(i,l,h,k,a){return{restrict:"A",terminal:true,priority:1000,compile:function j(d,e){var c=d[0].innerHTML;d.html("");return function(g,o,p){var f=k(p.ocLazyLoad);g.$watch(function(){return f(g)||p.ocLazyLoad},function(m){if(b.isDefined(m)){i.load(m).then(function(){h.enter(c,o);l(o.contents())(g)})}},true)}}}}])})(angular);(function(b){b.module("oc.lazyLoad").config(["$provide",function(a){a.decorator("$ocLazyLoad",["$delegate","$q","$window","$interval",function(o,q,k,l){var n=false,r=false,p=k.document.getElementsByTagName("head")[0]||k.document.getElementsByTagName("body")[0];o.buildElement=function m(H,e,f){var h=q.defer(),i,c,D=o._getFilesCache(),j=function j(t){var s=new Date().getTime();if(t.indexOf("?")>=0){if(t.substring(0,t.length-1)==="&"){return t+"_dc="+s}return t+"&_dc="+s}else{return t+"?_dc="+s}};if(b.isUndefined(D.get(e))){D.put(e,h.promise)}switch(H){case"css":i=k.document.createElement("link");i.type="text/css";i.rel="stylesheet";i.href=f.cache===false?j(e):e;break;case"js":i=k.document.createElement("script");i.src=f.cache===false?j(e):e;break;default:D.remove(e);h.reject(new Error('Requested type "'+H+'" is not known. Could not inject "'+e+'"'));break}i.onload=i.onreadystatechange=function(s){if(i.readyState&&!/^c|loade/.test(i.readyState)||c){return}i.onload=i.onreadystatechange=null;c=1;o._broadcast("ocLazyLoad.fileLoaded",e);h.resolve(i)};i.onerror=function(){D.remove(e);h.reject(new Error("Unable to load "+e))};i.async=f.serie?0:1;var g=p.lastChild;if(f.insertBefore){var d=b.element(b.isDefined(window.jQuery)?f.insertBefore:document.querySelector(f.insertBefore));if(d&&d.length>0){g=d[0]}}g.parentNode.insertBefore(i,g);if(H=="css"){if(!n){var C=k.navigator.userAgent.toLowerCase();if(C.indexOf("phantomjs/1.9")>-1){r=true}else{if(/iP(hone|od|ad)/.test(k.navigator.platform)){var E=k.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);var I=parseFloat([parseInt(E[1],10),parseInt(E[2],10),parseInt(E[3]||0,10)].join("."));r=I<6}else{if(C.indexOf("android")>-1){var J=parseFloat(C.slice(C.indexOf("android")+8));r=J<4.4}else{if(C.indexOf("safari")>-1){var F=C.match(/version\/([\.\d]+)/i);r=F&&F[1]&&parseFloat(F[1])<6}}}}}if(r){var G=1000;var v=l(function(){try{i.sheet.cssRules;l.cancel(v);i.onload()}catch(s){if(--G<=0){i.onerror()}}},20)}}return h.promise};return o}])}])})(angular);(function(b){b.module("oc.lazyLoad").config(["$provide",function(a){a.decorator("$ocLazyLoad",["$delegate","$q",function(g,h){g.filesLoader=function f(B){var z=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var v=[],D=[],x=[],w=[],y=null,d=g._getFilesCache();g.toggleWatch(true);b.extend(z,B);var C=function C(i){var j=null,k;if(b.isObject(i)){j=i.type;i=i.path}y=d.get(i);if(b.isUndefined(y)||z.cache===false){if((k=/^(css|less|html|htm|js)?(?=!)/.exec(i))!==null){j=k[1];i=i.substr(k[1].length+1,i.length)}if(!j){if((k=/[.](css|less|html|htm|js)?((\?|#).*)?$/.exec(i))!==null){j=k[1]}else{if(!g.jsLoader.hasOwnProperty("ocLazyLoadLoader")&&g.jsLoader.hasOwnProperty("requirejs")){j="js"}else{g._$log.error("File type could not be determined. "+i);return}}}if((j==="css"||j==="less")&&v.indexOf(i)===-1){v.push(i)}else{if((j==="html"||j==="htm")&&D.indexOf(i)===-1){D.push(i)}else{if(j==="js"||x.indexOf(i)===-1){x.push(i)}else{g._$log.error("File type is not valid. "+i)}}}}else{if(y){w.push(y)}}};if(z.serie){C(z.files.shift())}else{b.forEach(z.files,function(i){C(i)})}if(v.length>0){var t=h.defer();g.cssLoader(v,function(i){if(b.isDefined(i)&&g.cssLoader.hasOwnProperty("ocLazyLoadLoader")){g._$log.error(i);t.reject(i)}else{t.resolve()}},z);w.push(t.promise)}if(D.length>0){var u=h.defer();g.templatesLoader(D,function(i){if(b.isDefined(i)&&g.templatesLoader.hasOwnProperty("ocLazyLoadLoader")){g._$log.error(i);u.reject(i)}else{u.resolve()}},z);w.push(u.promise)}if(x.length>0){var e=h.defer();g.jsLoader(x,function(i){if(b.isDefined(i)&&(g.jsLoader.hasOwnProperty("ocLazyLoadLoader")||g.jsLoader.hasOwnProperty("requirejs"))){g._$log.error(i);e.reject(i)}else{e.resolve()}},z);w.push(e.promise)}if(w.length===0){var c=h.defer(),A="Error: no file to load has been found, if you're trying to load an existing module you should use the 'inject' method instead of 'load'.";g._$log.error(A);c.reject(A);return c.promise}else{if(z.serie&&z.files.length>0){return h.all(w).then(function(){return g.filesLoader(B,z)})}else{return h.all(w)["finally"](function(i){g.toggleWatch(false);return i})}}};g.load=function(r){var e=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var d=this,u=null,s=[],c=h.defer(),w;var v=b.copy(r);var t=b.copy(e);if(b.isArray(v)){b.forEach(v,function(i){s.push(d.load(i,t))});h.all(s).then(function(i){c.resolve(i)},function(i){c.reject(i)});return c.promise}if(b.isString(v)){u=d.getModuleConfig(v);if(!u){u={files:[v]}}}else{if(b.isObject(v)){if(b.isDefined(v.path)&&b.isDefined(v.type)){u={files:[v]}}else{u=d.setModuleConfig(v)}}}if(u===null){var x=d._getModuleName(v);w='Module "'+(x||"unknown")+'" is not configured, cannot load.';g._$log.error(w);c.reject(new Error(w));return c.promise}else{if(b.isDefined(u.template)){if(b.isUndefined(u.files)){u.files=[]}if(b.isString(u.template)){u.files.push(u.template)}else{if(b.isArray(u.template)){u.files.concat(u.template)}}}}var q=b.extend({},t,u);if(b.isUndefined(u.files)&&b.isDefined(u.name)&&g.moduleExists(u.name)){return g.inject(u.name,q,true)}g.filesLoader(u,q).then(function(){g.inject(null,q).then(function(i){c.resolve(i)},function(i){c.reject(i)})},function(i){c.reject(i)});return c.promise};return g}])}])})(angular);(function(b){b.module("oc.lazyLoad").config(["$provide",function(a){a.decorator("$ocLazyLoad",["$delegate","$q",function(e,f){e.cssLoader=function(d,c,i){var j=[];b.forEach(d,function(g){j.push(e.buildElement("css",g,i))});f.all(j).then(function(){c()},function(g){c(g)})};e.cssLoader.ocLazyLoadLoader=true;return e}])}])})(angular);(function(b){b.module("oc.lazyLoad").config(["$provide",function(a){a.decorator("$ocLazyLoad",["$delegate","$q",function(e,f){e.jsLoader=function(d,c,i){var j=[];b.forEach(d,function(g){j.push(e.buildElement("js",g,i))});f.all(j).then(function(){c()},function(g){c(g)})};e.jsLoader.ocLazyLoadLoader=true;return e}])}])})(angular);(function(b){b.module("oc.lazyLoad").config(["$provide",function(a){a.decorator("$ocLazyLoad",["$delegate","$templateCache","$q","$http",function(h,j,i,g){h.templatesLoader=function(d,c,e){var l=[],f=h._getFilesCache();b.forEach(d,function(k){var n=i.defer();l.push(n.promise);g.get(k,e).then(function(p){var m=p.data;if(b.isString(m)&&m.length>0){b.forEach(b.element(m),function(o){if(o.nodeName==="SCRIPT"&&o.type==="text/ng-template"){j.put(o.id,o.innerHTML)}})}if(b.isUndefined(f.get(k))){f.put(k,true)}n.resolve()})["catch"](function(m){n.reject(new Error('Unable to load template file "'+k+'": '+m.data))})});return i.all(l).then(function(){c()},function(k){c(k)})};h.templatesLoader.ocLazyLoadLoader=true;return h}])}])})(angular);if(!Array.prototype.indexOf){Array.prototype.indexOf=function(l,k){var g;if(this==null){throw new TypeError('"this" is null or not defined')}var j=Object(this);var h=j.length>>>0;if(h===0){return -1}var i=+k||0;if(Math.abs(i)===Infinity){i=0}if(i>=h){return -1}g=Math.max(i>=0?i:h-Math.abs(i),0);while(g<h){if(g in j&&j[g]===l){return g}g++}return -1}};